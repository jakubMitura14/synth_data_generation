<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions Reference · Synthetic Tomography</title><meta name="title" content="Functions Reference · Synthetic Tomography"/><meta property="og:title" content="Functions Reference · Synthetic Tomography"/><meta property="twitter:title" content="Functions Reference · Synthetic Tomography"/><meta name="description" content="Documentation for Synthetic Tomography."/><meta property="og:description" content="Documentation for Synthetic Tomography."/><meta property="twitter:description" content="Documentation for Synthetic Tomography."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../user_guide/">Synthetic Tomography</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../user_guide/">Home</a></li><li><a class="tocitem" href="../workflow_summary/">Workflow Summary</a></li><li class="is-active"><a class="tocitem" href>Functions Reference</a><ul class="internal"><li><a class="tocitem" href="#1.-in_docker_organized/main_create_phantom_can.jl"><span>1. <code>in_docker_organized/main_create_phantom_can.jl</code></span></a></li><li><a class="tocitem" href="#2.-in_docker_organized/main_create_phantom_ionic_chamber.jl"><span>2. <code>in_docker_organized/main_create_phantom_ionic_chamber.jl</code></span></a></li><li><a class="tocitem" href="#3.-in_docker_organized/get_geometry_main.jl"><span>3. <code>in_docker_organized/get_geometry_main.jl</code></span></a></li><li><a class="tocitem" href="#4.-in_docker_organized/geometry_utils.jl"><span>4. <code>in_docker_organized/geometry_utils.jl</code></span></a></li><li><a class="tocitem" href="#5.-in_docker_organized/volume_integration.jl"><span>5. <code>in_docker_organized/volume_integration.jl</code></span></a></li><li><a class="tocitem" href="#6.-CtFanArc_params.jl"><span>6. <code>CtFanArc_params.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../cleanup_proposals/">Cleanup Proposals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Functions Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Functions Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jakubMitura14/synth_data_generation" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jakubMitura14/synth_data_generation/blob/main/docs/src/functions_reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Function-Reference"><a class="docs-heading-anchor" href="#Function-Reference">Function Reference</a><a id="Function-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Function-Reference" title="Permalink"></a></h1><p>This document provides detailed documentation for the functions in the repository, organized by source file.</p><h2 id="1.-in_docker_organized/main_create_phantom_can.jl"><a class="docs-heading-anchor" href="#1.-in_docker_organized/main_create_phantom_can.jl">1. <code>in_docker_organized/main_create_phantom_can.jl</code></a><a id="1.-in_docker_organized/main_create_phantom_can.jl-1"></a><a class="docs-heading-anchor-permalink" href="#1.-in_docker_organized/main_create_phantom_can.jl" title="Permalink"></a></h2><p>This script is the entry point for generating &quot;can&quot; phantoms. It defines functions to create, configure, and save the phantom data.</p><h3 id="json_based_can(ig,-json_path,-is_2dtrue,-is_debugfalse)"><a class="docs-heading-anchor" href="#json_based_can(ig,-json_path,-is_2dtrue,-is_debugfalse)"><code>json_based_can(ig, json_path, is_2d=true, is_debug=false)</code></a><a id="json_based_can(ig,-json_path,-is_2dtrue,-is_debugfalse)-1"></a><a class="docs-heading-anchor-permalink" href="#json_based_can(ig,-json_path,-is_2dtrue,-is_debugfalse)" title="Permalink"></a></h3><p>Generates a &quot;can&quot; phantom based on parameters loaded from a JSON file.</p><ul><li><strong>Arguments:</strong><ul><li><code>ig</code>: <code>ImageGeom</code> object defining the image geometry (dimensions, spacing).</li><li><code>json_path</code>: Path to the JSON configuration file.</li><li><code>is_2d</code>: Boolean, if true, forces certain angles to 0 (for 2D slice generation).</li><li><code>is_debug</code>: Boolean, enables debug print statements.</li></ul></li><li><strong>Returns:</strong> A tuple containing:<ul><li><code>vol</code>: Dictionary with volume information (e.g., fluid volume).</li><li><code>args</code>: List of tuples representing the phantom parameters.</li><li><code>density_map</code>: Dictionary mapping object names to their densities.</li><li><code>name_type_list</code>: List of object names and types.</li><li>Boolean flags for geometry features (double bottom, rounded bottom, etc.).</li></ul></li></ul><h3 id="random_can(ig,-image_size_cm,-is_2d,-seed,-spacing,-is_debugfalse)"><a class="docs-heading-anchor" href="#random_can(ig,-image_size_cm,-is_2d,-seed,-spacing,-is_debugfalse)"><code>random_can(ig, image_size_cm, is_2d, seed, spacing, is_debug=false)</code></a><a id="random_can(ig,-image_size_cm,-is_2d,-seed,-spacing,-is_debugfalse)-1"></a><a class="docs-heading-anchor-permalink" href="#random_can(ig,-image_size_cm,-is_2d,-seed,-spacing,-is_debugfalse)" title="Permalink"></a></h3><p>Generates a &quot;can&quot; phantom with randomized parameters within defined constraints.</p><ul><li><strong>Arguments:</strong><ul><li><code>ig</code>: <code>ImageGeom</code> object.</li><li><code>image_size_cm</code>: Tuple of image dimensions in cm.</li><li><code>is_2d</code>: Boolean for 2D mode.</li><li><code>seed</code>: Integer seed for random number generation.</li><li><code>spacing</code>: Voxel spacing (dx, dy, dz).</li><li><code>is_debug</code>: Boolean for debug output.</li></ul></li><li><strong>Returns:</strong> Same structure as <code>json_based_can</code>.</li></ul><h3 id="get_cylinder_bool_mask(ob_el)"><a class="docs-heading-anchor" href="#get_cylinder_bool_mask(ob_el)"><code>get_cylinder_bool_mask(ob_el)</code></a><a id="get_cylinder_bool_mask(ob_el)-1"></a><a class="docs-heading-anchor-permalink" href="#get_cylinder_bool_mask(ob_el)" title="Permalink"></a></h3><p>Converts a cylinder object (or list of objects) into a boolean mask.</p><ul><li><strong>Arguments:</strong> <code>ob_el</code>: Phantom object(s).</li><li><strong>Returns:</strong> 3D BitArray (mask).</li></ul><h3 id="get_half_s_bool(ob_el)"><a class="docs-heading-anchor" href="#get_half_s_bool(ob_el)"><code>get_half_s_bool(ob_el)</code></a><a id="get_half_s_bool(ob_el)-1"></a><a class="docs-heading-anchor-permalink" href="#get_half_s_bool(ob_el)" title="Permalink"></a></h3><p>Converts a half-sphere object into a boolean mask.</p><ul><li><strong>Arguments:</strong> <code>ob_el</code>: Phantom object(s).</li><li><strong>Returns:</strong> 3D BitArray (mask).</li></ul><h3 id="get_temp_folder()"><a class="docs-heading-anchor" href="#get_temp_folder()"><code>get_temp_folder()</code></a><a id="get_temp_folder()-1"></a><a class="docs-heading-anchor-permalink" href="#get_temp_folder()" title="Permalink"></a></h3><p>Creates a temporary directory for storing intermediate files.</p><ul><li><strong>Returns:</strong> Path to the temporary directory.</li></ul><h3 id="save_args(args,-vol,-main_folder)"><a class="docs-heading-anchor" href="#save_args(args,-vol,-main_folder)"><code>save_args(args, vol, main_folder)</code></a><a id="save_args(args,-vol,-main_folder)-1"></a><a class="docs-heading-anchor-permalink" href="#save_args(args,-vol,-main_folder)" title="Permalink"></a></h3><p>Saves the generation arguments and volume data to a <code>argss.json</code> file in the specified folder.</p><ul><li><strong>Arguments:</strong><ul><li><code>args</code>: List of parameter tuples.</li><li><code>vol</code>: Volume data.</li><li><code>main_folder</code>: Output directory path.</li></ul></li></ul><h3 id="create_boolean_density_dict(name_type_list,-density_map)"><a class="docs-heading-anchor" href="#create_boolean_density_dict(name_type_list,-density_map)"><code>create_boolean_density_dict(name_type_list, density_map)</code></a><a id="create_boolean_density_dict(name_type_list,-density_map)-1"></a><a class="docs-heading-anchor-permalink" href="#create_boolean_density_dict(name_type_list,-density_map)" title="Permalink"></a></h3><p>Constructs a dictionary of phantom objects with their boolean masks and density-scaled float masks.</p><ul><li><strong>Arguments:</strong><ul><li><code>name_type_list</code>: List of (name, object, type) tuples.</li><li><code>density_map</code>: Dictionary of densities.</li></ul></li><li><strong>Returns:</strong> Dictionary where keys are object names and values are tuples <code>(bool_mask, float_mask, original_object)</code>.</li></ul><h3 id="add_noise_at(phantoms_dict,-key,-density_map)"><a class="docs-heading-anchor" href="#add_noise_at(phantoms_dict,-key,-density_map)"><code>add_noise_at(phantoms_dict, key, density_map)</code></a><a id="add_noise_at(phantoms_dict,-key,-density_map)-1"></a><a class="docs-heading-anchor-permalink" href="#add_noise_at(phantoms_dict,-key,-density_map)" title="Permalink"></a></h3><p>Adds Gaussian noise to a specific object&#39;s region in the phantom.</p><ul><li><strong>Arguments:</strong><ul><li><code>phantoms_dict</code>: Dictionary of phantom objects.</li><li><code>key</code>: Key of the object to add noise to.</li><li><code>density_map</code>: Density map.</li></ul></li><li><strong>Returns:</strong> Float array with noise added to the object&#39;s region.</li></ul><h3 id="get_random_can_uploaded(is_2d,-seed,-uuidnothing)"><a class="docs-heading-anchor" href="#get_random_can_uploaded(is_2d,-seed,-uuidnothing)"><code>get_random_can_uploaded(is_2d, seed, uuid=nothing)</code></a><a id="get_random_can_uploaded(is_2d,-seed,-uuidnothing)-1"></a><a class="docs-heading-anchor-permalink" href="#get_random_can_uploaded(is_2d,-seed,-uuidnothing)" title="Permalink"></a></h3><p>Main workflow function to generate, save, and upload a random can phantom.</p><ul><li><strong>Arguments:</strong><ul><li><code>is_2d</code>: Boolean flag.</li><li><code>seed</code>: Random seed.</li><li><code>uuid</code>: Unique identifier (optional).</li></ul></li><li><strong>Returns:</strong> Tuple <code>(numerical_vol, analytical_vol, fluid_volume_numerical_my)</code> representing different volume calculations.</li></ul><h3 id="calculate_and_save_fluid_volume(seed,-is_2dfalse,-uuidnothing)"><a class="docs-heading-anchor" href="#calculate_and_save_fluid_volume(seed,-is_2dfalse,-uuidnothing)"><code>calculate_and_save_fluid_volume(seed, is_2d=false, uuid=nothing)</code></a><a id="calculate_and_save_fluid_volume(seed,-is_2dfalse,-uuidnothing)-1"></a><a class="docs-heading-anchor-permalink" href="#calculate_and_save_fluid_volume(seed,-is_2dfalse,-uuidnothing)" title="Permalink"></a></h3><p>Wrapper function that calls <code>get_random_can_uploaded</code>.</p><h2 id="2.-in_docker_organized/main_create_phantom_ionic_chamber.jl"><a class="docs-heading-anchor" href="#2.-in_docker_organized/main_create_phantom_ionic_chamber.jl">2. <code>in_docker_organized/main_create_phantom_ionic_chamber.jl</code></a><a id="2.-in_docker_organized/main_create_phantom_ionic_chamber.jl-1"></a><a class="docs-heading-anchor-permalink" href="#2.-in_docker_organized/main_create_phantom_ionic_chamber.jl" title="Permalink"></a></h2><p>This script generates &quot;ionic chamber&quot; phantoms.</p><h3 id="cylinder_interval(c_z,-l_z)"><a class="docs-heading-anchor" href="#cylinder_interval(c_z,-l_z)"><code>cylinder_interval(c_z, l_z)</code></a><a id="cylinder_interval(c_z,-l_z)-1"></a><a class="docs-heading-anchor-permalink" href="#cylinder_interval(c_z,-l_z)" title="Permalink"></a></h3><p>Helper to calculate the z-range of a cylinder.</p><ul><li><strong>Returns:</strong> <code>(z_start, z_end)</code>.</li></ul><h3 id="overlaps(c1,-l1,-c2,-l2)"><a class="docs-heading-anchor" href="#overlaps(c1,-l1,-c2,-l2)"><code>overlaps(c1, l1, c2, l2)</code></a><a id="overlaps(c1,-l1,-c2,-l2)-1"></a><a class="docs-heading-anchor-permalink" href="#overlaps(c1,-l1,-c2,-l2)" title="Permalink"></a></h3><p>Checks if two z-intervals overlap.</p><ul><li><strong>Returns:</strong> Boolean.</li></ul><h3 id="compute_adjusted_density(new_desired,-new_z,-new_lz,-existing)"><a class="docs-heading-anchor" href="#compute_adjusted_density(new_desired,-new_z,-new_lz,-existing)"><code>compute_adjusted_density(new_desired, new_z, new_lz, existing)</code></a><a id="compute_adjusted_density(new_desired,-new_z,-new_lz,-existing)-1"></a><a class="docs-heading-anchor-permalink" href="#compute_adjusted_density(new_desired,-new_z,-new_lz,-existing)" title="Permalink"></a></h3><p>Calculates the effective density for a new cylinder to account for overlaps with existing cylinders (density superposition).</p><ul><li><strong>Returns:</strong> Adjusted density value.</li></ul><h3 id="create_cylinder(base_x,-base_y,-base_bottom_z,-spec,-angle,-name)"><a class="docs-heading-anchor" href="#create_cylinder(base_x,-base_y,-base_bottom_z,-spec,-angle,-name)"><code>create_cylinder(base_x, base_y, base_bottom_z, spec, angle, name)</code></a><a id="create_cylinder(base_x,-base_y,-base_bottom_z,-spec,-angle,-name)-1"></a><a class="docs-heading-anchor-permalink" href="#create_cylinder(base_x,-base_y,-base_bottom_z,-spec,-angle,-name)" title="Permalink"></a></h3><p>Creates a cylinder parameter NamedTuple from a specification dictionary.</p><ul><li><strong>Returns:</strong> NamedTuple with cylinder parameters.</li></ul><h3 id="adjust_densities!(cylinders)"><a class="docs-heading-anchor" href="#adjust_densities!(cylinders)"><code>adjust_densities!(cylinders)</code></a><a id="adjust_densities!(cylinders)-1"></a><a class="docs-heading-anchor-permalink" href="#adjust_densities!(cylinders)" title="Permalink"></a></h3><p>Iteratively adjusts the densities of a list of cylinders to ensure the final superposition matches the desired densities.</p><ul><li><strong>Returns:</strong> Vector of adjusted cylinder NamedTuples.</li></ul><h3 id="build_image(base_params,-specs,-angle,-spacing,-dims)"><a class="docs-heading-anchor" href="#build_image(base_params,-specs,-angle,-spacing,-dims)"><code>build_image(base_params, specs, angle, spacing, dims)</code></a><a id="build_image(base_params,-specs,-angle,-spacing,-dims)-1"></a><a class="docs-heading-anchor-permalink" href="#build_image(base_params,-specs,-angle,-spacing,-dims)" title="Permalink"></a></h3><p>Constructs the full phantom image from base parameters and component specifications.</p><ul><li><strong>Returns:</strong> Tuple containing <code>(cylinders_prim, named_res, cylinder_densities, vol_res)</code>.</li></ul><h3 id="create_ionic_chamber_phantom(params)"><a class="docs-heading-anchor" href="#create_ionic_chamber_phantom(params)"><code>create_ionic_chamber_phantom(params)</code></a><a id="create_ionic_chamber_phantom(params)-1"></a><a class="docs-heading-anchor-permalink" href="#create_ionic_chamber_phantom(params)" title="Permalink"></a></h3><p>Main function to generate the ionic chamber phantom. It determines the specific geometry (square top, ball-like, etc.) and assembles the components.</p><ul><li><strong>Arguments:</strong> <code>params</code>: Dictionary of parameters.</li><li><strong>Returns:</strong> Tuple containing the final image array, raw image, masks, and volume data.</li></ul><h3 id="save_ionic_chamber_params(params,-filename)"><a class="docs-heading-anchor" href="#save_ionic_chamber_params(params,-filename)"><code>save_ionic_chamber_params(params, filename)</code></a><a id="save_ionic_chamber_params(params,-filename)-1"></a><a class="docs-heading-anchor-permalink" href="#save_ionic_chamber_params(params,-filename)" title="Permalink"></a></h3><p>Saves the parameter dictionary to a JSON file.</p><h3 id="json_params(args_json_path,-uuidnothing,-dims(128,-128,-128))"><a class="docs-heading-anchor" href="#json_params(args_json_path,-uuidnothing,-dims(128,-128,-128))"><code>json_params(args_json_path, uuid=nothing, dims=(128, 128, 128))</code></a><a id="json_params(args_json_path,-uuidnothing,-dims(128,-128,-128))-1"></a><a class="docs-heading-anchor-permalink" href="#json_params(args_json_path,-uuidnothing,-dims(128,-128,-128))" title="Permalink"></a></h3><p>Loads parameters from a JSON file, filling in defaults where necessary.</p><h3 id="generate_random_params(uuid,-dims,-randomizetrue,-variable_spacingfalse)"><a class="docs-heading-anchor" href="#generate_random_params(uuid,-dims,-randomizetrue,-variable_spacingfalse)"><code>generate_random_params(uuid, dims, randomize=true, variable_spacing=false)</code></a><a id="generate_random_params(uuid,-dims,-randomizetrue,-variable_spacingfalse)-1"></a><a class="docs-heading-anchor-permalink" href="#generate_random_params(uuid,-dims,-randomizetrue,-variable_spacingfalse)" title="Permalink"></a></h3><p>Generates a random parameter set for an ionic chamber, selecting a random type (square top, ball-like, etc.) and randomizing dimensions.</p><ul><li><strong>Returns:</strong> Parameter dictionary.</li></ul><h3 id="get_random_chamber(dims,-uuid,-temp_fold,-variable_spacing,-randomize)"><a class="docs-heading-anchor" href="#get_random_chamber(dims,-uuid,-temp_fold,-variable_spacing,-randomize)"><code>get_random_chamber(dims, uuid, temp_fold, variable_spacing, randomize)</code></a><a id="get_random_chamber(dims,-uuid,-temp_fold,-variable_spacing,-randomize)-1"></a><a class="docs-heading-anchor-permalink" href="#get_random_chamber(dims,-uuid,-temp_fold,-variable_spacing,-randomize)" title="Permalink"></a></h3><p>Main workflow function to generate, save, and upload an ionic chamber phantom.</p><h2 id="3.-in_docker_organized/get_geometry_main.jl"><a class="docs-heading-anchor" href="#3.-in_docker_organized/get_geometry_main.jl">3. <code>in_docker_organized/get_geometry_main.jl</code></a><a id="3.-in_docker_organized/get_geometry_main.jl-1"></a><a class="docs-heading-anchor-permalink" href="#3.-in_docker_organized/get_geometry_main.jl" title="Permalink"></a></h2><p>Contains the geometry definitions for the &quot;can&quot; phantom.</p><h3 id="ionic_chamber_p(...)"><a class="docs-heading-anchor" href="#ionic_chamber_p(...)"><code>ionic_chamber_p(...)</code></a><a id="ionic_chamber_p(...)-1"></a><a class="docs-heading-anchor-permalink" href="#ionic_chamber_p(...)" title="Permalink"></a></h3><p>Defines the geometry of a parameterized ionic chamber using basic shapes. (Note: This seems to be an alternative or older implementation compared to the main script).</p><h3 id="empty_cylinder_with_half_sphere_bottom_p(...)"><a class="docs-heading-anchor" href="#empty_cylinder_with_half_sphere_bottom_p(...)"><code>empty_cylinder_with_half_sphere_bottom_p(...)</code></a><a id="empty_cylinder_with_half_sphere_bottom_p(...)-1"></a><a class="docs-heading-anchor-permalink" href="#empty_cylinder_with_half_sphere_bottom_p(...)" title="Permalink"></a></h3><p>Constructs the components of a &quot;can&quot; phantom. This is a complex function that defines:</p><ul><li>The main cylinder body.</li><li>The bottom (flat or rounded with half-spheres).</li><li>The fluid (single or dual phase) with meniscus.</li><li>The cut plane (tilt) at the top of the fluid.</li><li>Internal objects (pipe, dispenser).</li><li>Defects or &quot;cuts&quot;.</li><li><strong>Returns:</strong> A tuple containing the list of objects, volume dictionary, and individual component masks.</li></ul><h3 id="volume_of_elliptical_cylinder(pipe_cross_section,-overlay_length)"><a class="docs-heading-anchor" href="#volume_of_elliptical_cylinder(pipe_cross_section,-overlay_length)"><code>volume_of_elliptical_cylinder(pipe_cross_section, overlay_length)</code></a><a id="volume_of_elliptical_cylinder(pipe_cross_section,-overlay_length)-1"></a><a class="docs-heading-anchor-permalink" href="#volume_of_elliptical_cylinder(pipe_cross_section,-overlay_length)" title="Permalink"></a></h3><p>Calculates the volume of an elliptical cylinder.</p><h2 id="4.-in_docker_organized/geometry_utils.jl"><a class="docs-heading-anchor" href="#4.-in_docker_organized/geometry_utils.jl">4. <code>in_docker_organized/geometry_utils.jl</code></a><a id="4.-in_docker_organized/geometry_utils.jl-1"></a><a class="docs-heading-anchor-permalink" href="#4.-in_docker_organized/geometry_utils.jl" title="Permalink"></a></h2><p>Utility functions for image manipulation and saving.</p><h3 id="matrix_from_axis_angle(a)"><a class="docs-heading-anchor" href="#matrix_from_axis_angle(a)"><code>matrix_from_axis_angle(a)</code></a><a id="matrix_from_axis_angle(a)-1"></a><a class="docs-heading-anchor-permalink" href="#matrix_from_axis_angle(a)" title="Permalink"></a></h3><p>Computes a rotation matrix from an axis-angle representation.</p><h3 id="resample(image,-transform)"><a class="docs-heading-anchor" href="#resample(image,-transform)"><code>resample(image, transform)</code></a><a id="resample(image,-transform)-1"></a><a class="docs-heading-anchor-permalink" href="#resample(image,-transform)" title="Permalink"></a></h3><p>Resamples a SimpleITK image using a given transform.</p><h3 id="rotation3d(image,-axis,-theta)"><a class="docs-heading-anchor" href="#rotation3d(image,-axis,-theta)"><code>rotation3d(image, axis, theta)</code></a><a id="rotation3d(image,-axis,-theta)-1"></a><a class="docs-heading-anchor-permalink" href="#rotation3d(image,-axis,-theta)" title="Permalink"></a></h3><p>Rotates a 3D image around a specific axis by <code>theta</code> degrees.</p><h3 id="save_sitk_image_as_dicom(img,-output_folder)"><a class="docs-heading-anchor" href="#save_sitk_image_as_dicom(img,-output_folder)"><code>save_sitk_image_as_dicom(img, output_folder)</code></a><a id="save_sitk_image_as_dicom(img,-output_folder)-1"></a><a class="docs-heading-anchor-permalink" href="#save_sitk_image_as_dicom(img,-output_folder)" title="Permalink"></a></h3><p>Saves a SimpleITK image as a series of DICOM files. Uses <code>nii2dcm</code> utility.</p><h3 id="get_per_slice_reconstruction(arr)"><a class="docs-heading-anchor" href="#get_per_slice_reconstruction(arr)"><code>get_per_slice_reconstruction(arr)</code></a><a id="get_per_slice_reconstruction(arr)-1"></a><a class="docs-heading-anchor-permalink" href="#get_per_slice_reconstruction(arr)" title="Permalink"></a></h3><p>Performs a slice-by-slice reconstruction (inverse Radon transform) using <code>skimage.transform.iradon</code>.</p><h3 id="save_2d_sitk_image_as_dicom(immm,-output_path)"><a class="docs-heading-anchor" href="#save_2d_sitk_image_as_dicom(immm,-output_path)"><code>save_2d_sitk_image_as_dicom(immm, output_path)</code></a><a id="save_2d_sitk_image_as_dicom(immm,-output_path)-1"></a><a class="docs-heading-anchor-permalink" href="#save_2d_sitk_image_as_dicom(immm,-output_path)" title="Permalink"></a></h3><p>Saves a 2D SimpleITK image as a DICOM file, handling intensity scaling.</p><h3 id="save_nifti_with_meta(arr,-cast_to_uint8,-spacing,-output_path)"><a class="docs-heading-anchor" href="#save_nifti_with_meta(arr,-cast_to_uint8,-spacing,-output_path)"><code>save_nifti_with_meta(arr, cast_to_uint8, spacing, output_path)</code></a><a id="save_nifti_with_meta(arr,-cast_to_uint8,-spacing,-output_path)-1"></a><a class="docs-heading-anchor-permalink" href="#save_nifti_with_meta(arr,-cast_to_uint8,-spacing,-output_path)" title="Permalink"></a></h3><p>Saves an array as a NIfTI file with specified metadata (spacing, direction, origin).</p><h3 id="save_mask_as_nifti(mask,-output_path,-spacing)"><a class="docs-heading-anchor" href="#save_mask_as_nifti(mask,-output_path,-spacing)"><code>save_mask_as_nifti(mask, output_path, spacing)</code></a><a id="save_mask_as_nifti(mask,-output_path,-spacing)-1"></a><a class="docs-heading-anchor-permalink" href="#save_mask_as_nifti(mask,-output_path,-spacing)" title="Permalink"></a></h3><p>Wrapper to save a boolean mask as a NIfTI file.</p><h3 id="convert_nifti_to_dicom_seg(nifti_path,-reference_dicom_path,-output_folder,-reference_nifti_path&quot;&quot;)"><a class="docs-heading-anchor" href="#convert_nifti_to_dicom_seg(nifti_path,-reference_dicom_path,-output_folder,-reference_nifti_path&quot;&quot;)"><code>convert_nifti_to_dicom_seg(nifti_path, reference_dicom_path, output_folder, reference_nifti_path=&quot;&quot;)</code></a><a id="convert_nifti_to_dicom_seg(nifti_path,-reference_dicom_path,-output_folder,-reference_nifti_path&quot;&quot;)-1"></a><a class="docs-heading-anchor-permalink" href="#convert_nifti_to_dicom_seg(nifti_path,-reference_dicom_path,-output_folder,-reference_nifti_path&quot;&quot;)" title="Permalink"></a></h3><p>Converts a NIfTI mask to DICOM-SEG format by calling a Python script (<code>nifti_to_dicom_seg.py</code>).</p><h3 id="move_image(array,-axis,-distance,-direction,-spacing)"><a class="docs-heading-anchor" href="#move_image(array,-axis,-distance,-direction,-spacing)"><code>move_image(array, axis, distance, direction, spacing)</code></a><a id="move_image(array,-axis,-distance,-direction,-spacing)-1"></a><a class="docs-heading-anchor-permalink" href="#move_image(array,-axis,-distance,-direction,-spacing)" title="Permalink"></a></h3><p>Shifts a binary image along a specified axis by a given distance (in cm).</p><h2 id="5.-in_docker_organized/volume_integration.jl"><a class="docs-heading-anchor" href="#5.-in_docker_organized/volume_integration.jl">5. <code>in_docker_organized/volume_integration.jl</code></a><a id="5.-in_docker_organized/volume_integration.jl-1"></a><a class="docs-heading-anchor-permalink" href="#5.-in_docker_organized/volume_integration.jl" title="Permalink"></a></h2><p>Functions for analytical volume calculation of the fluid in the can phantom.</p><h3 id="compute_fluid_volume_in_can(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params)"><a class="docs-heading-anchor" href="#compute_fluid_volume_in_can(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params)"><code>compute_fluid_volume_in_can(phantoms_dict, spacing, first_ball, second_ball, rounded_bottom, params)</code></a><a id="compute_fluid_volume_in_can(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params)-1"></a><a class="docs-heading-anchor-permalink" href="#compute_fluid_volume_in_can(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params)" title="Permalink"></a></h3><p>Calculates the fluid volume using both numerical (sum of voxels) and analytical (geometric formulas) methods. It accounts for:</p><ul><li>Base cylinder volume.</li><li>Top cut plane (tilt).</li><li>Bottom geometry (rounded or flat).</li><li>Subtracted objects (balls, pipe overlap).</li><li><strong>Returns:</strong> Tuple <code>(numerical_vol, analytical_vol)</code>.</li></ul><h3 id="compute_accurate_fluid_volume(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params,-ig)"><a class="docs-heading-anchor" href="#compute_accurate_fluid_volume(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params,-ig)"><code>compute_accurate_fluid_volume(phantoms_dict, spacing, first_ball, second_ball, rounded_bottom, params, ig)</code></a><a id="compute_accurate_fluid_volume(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params,-ig)-1"></a><a class="docs-heading-anchor-permalink" href="#compute_accurate_fluid_volume(phantoms_dict,-spacing,-first_ball,-second_ball,-rounded_bottom,-params,-ig)" title="Permalink"></a></h3><p>A more precise version of volume calculation, handling complex interactions between components.</p><h3 id="compute_accurate_fluid_volume_fixed(...)"><a class="docs-heading-anchor" href="#compute_accurate_fluid_volume_fixed(...)"><code>compute_accurate_fluid_volume_fixed(...)</code></a><a id="compute_accurate_fluid_volume_fixed(...)-1"></a><a class="docs-heading-anchor-permalink" href="#compute_accurate_fluid_volume_fixed(...)" title="Permalink"></a></h3><p>Fixed version of the accurate volume calculation logic.</p><h2 id="6.-CtFanArc_params.jl"><a class="docs-heading-anchor" href="#6.-CtFanArc_params.jl">6. <code>CtFanArc_params.jl</code></a><a id="6.-CtFanArc_params.jl-1"></a><a class="docs-heading-anchor-permalink" href="#6.-CtFanArc_params.jl" title="Permalink"></a></h2><p>Defines CT geometry and projection functions.</p><h3 id="get_CTFAN_proj(ob,-is_high_resfalse)"><a class="docs-heading-anchor" href="#get_CTFAN_proj(ob,-is_high_resfalse)"><code>get_CTFAN_proj(ob, is_high_res=false)</code></a><a id="get_CTFAN_proj(ob,-is_high_resfalse)-1"></a><a class="docs-heading-anchor-permalink" href="#get_CTFAN_proj(ob,-is_high_resfalse)" title="Permalink"></a></h3><p>Configures a Fan Beam CT geometry and generates projections (sinogram) for a given object.</p><ul><li><strong>Arguments:</strong><ul><li><code>ob</code>: Phantom object(s) to project.</li><li><code>is_high_res</code>: Boolean, selects between standard and high-resolution geometry settings.</li></ul></li><li><strong>Returns:</strong> Tuple <code>(proj_arc, rg)</code>, where <code>proj_arc</code> is the projection data and <code>rg</code> is the geometry object.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../workflow_summary/">« Workflow Summary</a><a class="docs-footer-nextpage" href="../cleanup_proposals/">Cleanup Proposals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 19 February 2026 13:44">Thursday 19 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
